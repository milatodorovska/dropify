{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mila\\\\Desktop\\\\Dropify\\\\Frontend\\\\src\\\\components\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getCartByUser } from '../services/cart_service';\nimport { useNavigate } from 'react-router-dom';\nimport \"../css/productCart.css\";\nimport ProductMyCart from './ProductMyCart';\nimport { Button } from 'reactstrap';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const navigate = useNavigate();\n  const handleCheckout = () => {\n    navigate(`/user/CartCheckout/${false}/${0}`);\n  };\n  const [cart, setCart] = useState([]);\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    const fetchCart = async () => {\n      try {\n        const data = await getCartByUser(token);\n        console.log('Cart data:', data); // Log the entire data object\n\n        if (Array.isArray(data)) {\n          const allProducts = data.flatMap(cartItem => cartItem.products || []);\n          setCart(allProducts);\n        } else {\n          setCart(data.products || []);\n        }\n      } catch (error) {\n        console.error('Failed to fetch cart:', error);\n      }\n    };\n    fetchCart();\n  }, [token]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [cart.length > 0 ? /*#__PURE__*/_jsxDEV(Button, {\n      style: {\n        padding: \"10px 30px\",\n        marginTop: '20px',\n        backgroundColor: \"#FFCA2C\",\n        color: 'black',\n        fontWeight: '900',\n        fontFamily: 'serif',\n        border: '2px solid black',\n        display: 'flex',\n        position: 'relative',\n        left: '85%'\n      },\n      onClick: handleCheckout,\n      children: \"CheckOut\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productCart mt-5\",\n      children: cart.length > 0 ? cart.map((product, index) => /*#__PURE__*/_jsxDEV(ProductMyCart, {\n        product: product,\n        showName: \"More Details\"\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%,-50%)',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            borderRadius: '50px',\n            height: '200px',\n            width: '200px'\n          },\n          src: \"https://cdn-icons-png.flaticon.com/512/11329/11329060.png\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: '2vw'\n          },\n          children: \"Your cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          style: {\n            color: 'grey'\n          },\n          children: \"Looks like you have not added anything to your cart.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n_s(Cart, \"snvJvrhp2+SlprPmAIFh4nfFTvY=\", false, function () {\n  return [useNavigate];\n});\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useEffect","useState","getCartByUser","useNavigate","ProductMyCart","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","navigate","handleCheckout","cart","setCart","token","localStorage","getItem","fetchCart","data","console","log","Array","isArray","allProducts","flatMap","cartItem","products","error","children","length","style","padding","marginTop","backgroundColor","color","fontWeight","fontFamily","border","display","position","left","onClick","fileName","_jsxFileName","lineNumber","columnNumber","className","map","product","index","showName","top","transform","textAlign","borderRadius","height","width","src","alt","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/Mila/Desktop/Dropify/Frontend/src/components/Cart.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getCartByUser } from '../services/cart_service';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport \"../css/productCart.css\"\r\nimport ProductMyCart from './ProductMyCart';\r\nimport { Button } from 'reactstrap';\r\nconst Cart = () => {\r\n  const navigate=useNavigate();\r\n  const handleCheckout=()=>{\r\n    navigate(`/user/CartCheckout/${false}/${0}`);\r\n  }\r\n  const [cart, setCart] = useState([]);\r\n  const token = localStorage.getItem('token');\r\n  \r\n  useEffect(() => {\r\n    const fetchCart = async () => {\r\n      try {\r\n        const data = await getCartByUser(token);\r\n        console.log('Cart data:', data); // Log the entire data object\r\n\r\n        \r\n        if (Array.isArray(data)) {\r\n          const allProducts = data.flatMap(cartItem => cartItem.products || []);\r\n          \r\n          setCart(allProducts);\r\n          \r\n        } else {\r\n          setCart(data.products || []);\r\n          \r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to fetch cart:', error);\r\n      }\r\n    };\r\n\r\n    fetchCart();\r\n  }, [token]);\r\n\r\n  return (\r\n    <>\r\n    {cart.length>0?\r\n    <Button style={{padding:\"10px 30px\", marginTop:'20px', backgroundColor:\"#FFCA2C\", color:'black', fontWeight:'900', fontFamily:'serif', border:'2px solid black', display:'flex', position:'relative', left:'85%' }} onClick={handleCheckout}>CheckOut</Button>\r\n    : \"\"}\r\n  \r\n    <div className='productCart mt-5'>\r\n      {cart.length > 0 ? (\r\n        cart.map((product,index) => (\r\n          <ProductMyCart product={product} key={index} showName={\"More Details\"}/>\r\n        ))\r\n      ) : (\r\n        <div style={{position:'absolute', top:'50%', left:'50%', transform:'translate(-50%,-50%)', textAlign:'center' }}>\r\n          <img style={{borderRadius:'50px', height:'200px',width:'200px'}} src=\"https://cdn-icons-png.flaticon.com/512/11329/11329060.png\" alt=\"\" />\r\n          <h1 style={{fontSize:'2vw'}}>Your cart is empty</h1>\r\n          <h5 style={{color:'grey'}}>Looks like you have not added anything to your cart.</h5>\r\n          </div>\r\n      )}\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}