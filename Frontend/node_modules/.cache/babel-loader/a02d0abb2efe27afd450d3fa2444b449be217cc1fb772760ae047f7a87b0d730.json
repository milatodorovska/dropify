{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mila\\\\Desktop\\\\Dropify\\\\Frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport Base from '../components/Base';\nimport AllProducts from '../components/AllProducts';\nimport { BASE_URL } from '../services/helper';\nimport axios from 'axios';\nimport Pagination from '../components/Pagination';\nimport { Input } from 'reactstrap';\nimport { searchProductByName } from '../services/product_service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  useEffect(() => {\n    document.title = \"Dropify\";\n  }, []);\n  const [loading, setLoading] = useState(false);\n  const [product, setProduct] = useState([]);\n  const [searchProduct, setSearchProduct] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(8);\n  const [search, setSearch] = useState(\"\");\n  const handleChange = e => {\n    setSearch(e.target.value);\n    setCurrentPage(1);\n  };\n  const getAllProducts = () => {\n    setLoading(true);\n    axios.get(`${BASE_URL}/api/products`).then(response => {\n      setProduct(response.data);\n      setLoading(false);\n    }).catch(error => {\n      console.log(error);\n      setLoading(false);\n    });\n  };\n  const fetchSearchProducts = keyword => {\n    setLoading(true);\n    searchProductByName(keyword).then(data => {\n      setSearchProduct(data);\n      setLoading(false);\n    }).catch(error => {\n      console.log(error);\n      setLoading(false);\n    });\n  };\n  useEffect(() => {\n    if (search === \"\") {\n      getAllProducts();\n    } else {\n      fetchSearchProducts(search);\n    }\n  }, [search, currentPage]);\n  const lastPostIndex = currentPage * postsPerPage;\n  const firstPostIndex = lastPostIndex - postsPerPage;\n  const currentPosts = product.slice(firstPostIndex, lastPostIndex);\n  const currentSearchPosts = searchProduct.slice(firstPostIndex, lastPostIndex);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(Base, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '2%',\n        position: 'relative',\n        left: '50%',\n        transform: 'translate(-50%)',\n        display: 'flex',\n        alignItems: 'center',\n        width: '50%',\n        justifyContent: 'space-around'\n      },\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Search here...\",\n        style: {\n          border: '1px solid grey',\n          borderRadius: '50px',\n          width: '93%',\n          height: '100%',\n          outline: 'none'\n        },\n        value: search,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }, this) : search === \"\" ? /*#__PURE__*/_jsxDEV(AllProducts, {\n      product: currentPosts,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(AllProducts, {\n      product: currentSearchPosts,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      totalPosts: search === \"\" ? product.length : searchProduct.length,\n      postsPerPage: postsPerPage,\n      setCurrentPage: setCurrentPage,\n      currentPage: currentPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n_s(Home, \"lhk9sSi7Ds1DcxcZ6tHMgPiarR0=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useState","useEffect","Base","AllProducts","BASE_URL","axios","Pagination","Input","searchProductByName","jsxDEV","_jsxDEV","Home","_s","document","title","loading","setLoading","product","setProduct","searchProduct","setSearchProduct","currentPage","setCurrentPage","postsPerPage","search","setSearch","handleChange","e","target","value","getAllProducts","get","then","response","data","catch","error","console","log","fetchSearchProducts","keyword","lastPostIndex","firstPostIndex","currentPosts","slice","currentSearchPosts","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","position","left","transform","display","alignItems","width","justifyContent","placeholder","border","borderRadius","height","outline","onChange","totalPosts","length","_c","$RefreshReg$"],"sources":["C:/Users/Mila/Desktop/Dropify/Frontend/src/pages/Home.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport Base from '../components/Base';\r\nimport AllProducts from '../components/AllProducts';\r\nimport { BASE_URL } from '../services/helper';\r\nimport axios from 'axios';\r\nimport Pagination from '../components/Pagination';\r\nimport { Input } from 'reactstrap';\r\nimport { searchProductByName } from '../services/product_service';\r\n\r\nconst Home = () => {\r\n    useEffect(() => {\r\n        document.title = \"Dropify\";\r\n    }, []);\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [product, setProduct] = useState([]);\r\n    const [searchProduct, setSearchProduct] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [postsPerPage] = useState(8);\r\n    const [search, setSearch] = useState(\"\");\r\n\r\n    const handleChange = (e) => {\r\n        setSearch(e.target.value);\r\n        setCurrentPage(1);\r\n    };\r\n\r\n    const getAllProducts = () => {\r\n        setLoading(true);\r\n        axios.get(`${BASE_URL}/api/products`)\r\n            .then((response) => {\r\n                setProduct(response.data);\r\n                setLoading(false);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                setLoading(false);\r\n            });\r\n    };\r\n\r\n    const fetchSearchProducts = (keyword) => {\r\n        setLoading(true);\r\n        searchProductByName(keyword)\r\n            .then((data) => {\r\n                setSearchProduct(data);\r\n                setLoading(false);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                setLoading(false);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (search === \"\") {\r\n            getAllProducts();\r\n        } else {\r\n            fetchSearchProducts(search);\r\n        }\r\n    }, [search,currentPage]);\r\n\r\n    const lastPostIndex = currentPage * postsPerPage;\r\n    const firstPostIndex = lastPostIndex - postsPerPage;\r\n    const currentPosts = product.slice(firstPostIndex, lastPostIndex);\r\n    const currentSearchPosts = searchProduct.slice(firstPostIndex, lastPostIndex);\r\n\r\n    return (\r\n        <div className='overflow-hidden'>\r\n            <Base />\r\n            <div style={{ marginTop: '2%', position: 'relative', left: '50%', transform: 'translate(-50%)', display: 'flex', alignItems: 'center', width: '50%', justifyContent: 'space-around' }}>\r\n                <Input\r\n                    placeholder='Search here...'\r\n                    style={{ border: '1px solid grey', borderRadius: '50px', width: '93%', height: '100%', outline: 'none', }}\r\n                    value={search}\r\n                    onChange={handleChange}\r\n                />\r\n                \r\n            </div>\r\n            {loading ? (\r\n                <p>Loading...</p>\r\n            ) : search === \"\" ? (\r\n                <AllProducts product={currentPosts} loading={loading} />\r\n            ) : (\r\n                <AllProducts product={currentSearchPosts} loading={loading} />\r\n            )}\r\n            <Pagination\r\n                totalPosts={search === \"\" ? product.length : searchProduct.length}\r\n                postsPerPage={postsPerPage}\r\n                setCurrentPage={setCurrentPage}\r\n                currentPage={currentPage}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}